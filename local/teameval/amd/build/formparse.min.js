define(["jquery"],function(a){function b(a){var b=[],c=e.exec(a);if(c&&(b.push(c[1]),c[2]))for(var d;d=f.exec(c[2]);)b.push(d[1]);return b}function c(a,b,d){var e=b.shift();if(b.length>0)if(""!==e&&a[e])c(a[e],b,d);else{var f=b[0],g={};(""===f||parseInt(f)==f)&&(g=[]),c(g,b,d),""===e?a.push(g):a[e]=g}else""===e?a.push(d):a[e]=d}function d(d){for(var e=a(d).serializeArray(),f={},g=0;g<e.length;g++){var h=e[g];c(f,b(h.name),h.value)}return f}var e=/([^\[\]]+)((?:\[[^\[\]]*\])+)?/,f=/\[([^\[\]]*)\]/g;return{getPath:b,setValue:c,serializeObject:d}});
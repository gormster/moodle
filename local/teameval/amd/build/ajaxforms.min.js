define(["jquery","core/ajax","core/notification"],function(a,b,c){return{ajaxify:function(b,c){a(b).submit(function(a){a.preventDefault(),this.put(b,c)}.bind(this))},put:function(d,e){var f=a(d).data("ajaxforms-methodname"),g={};a(d).find("input, select, textarea").each(function(){var b=a(this).get(0).name;if("undefined"!=typeof b&&0!==b.length){var c=a(this).val();a(this).is("input[type=checkbox], input[type=radio]")&&(c=a(this).prop("checked"));var d=b.split(/\[([a-zA-Z0-9_-]+)\]/);d=d.filter(function(a){return a.length>0});for(var e=g,f=0;f<d.length-1;f++){var h=d[f];"undefined"==typeof e[h]&&(e[h]={}),e=e[h]}var i=d[d.length-1];e[i]=c}});var h=b.call([{methodname:f,args:{form:g}}]),i=h[0];"function"==typeof e&&e(i),i.done(function(){var b=a(d).data("ajaxforms-callback");window[b]&&window[b]()}),i.fail(c.exception)}}});